CONTRACT_TYPE
{
	name = ExplorationPlus-MannedOrbitHomeworld
	title = Manned Orbit Around @/homeworld
	genericTitle = Manned Orbit Around @/homeworld
	group = ExplorationPlus
	description = While reaching orbit with a probe was a great accomplishment, sending the first Kerbal into orbit would be an important milestone for our space program.
	synopsis = Launch a Kerbal into orbit around @/homeworld and return them safely.
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Significant
	targetBody = @/homeworld
	rewardScience = 3
	rewardReputation = 6
	rewardFunds = 60000.0
	failureReputation = 0.0
	failureFunds = 16000.0
	advanceFunds = 16000.0

	DATA
	{
		type = CelestialBody
		uniquenessCheck = CONTRACT_ACTIVE
		homeworld =  HomeWorld()
		hidden = true
	}

	DATA
	{
		type = string
		requiredValue = true
		VesselVariableName = "MannedOrbiter" + @/homeworld.Name()
		hidden = true
	}

	PARAMETER
	{
		name = MannedOrbiterVessel
		type = VesselParameterGroup
		define = @/VesselVariableName
		hideVesselName = true   
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 1
			disableOnStateChange = false
			title = Must have a Kerbal on board
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Orbit @/homeworld
		}

		PARAMETER
		{
			name = ReturnHome
			type = ReturnHome
			title = Return home
		}
	}

	
	REQUIREMENT
	{
		name = ReachOrbit
		type = Orbit
		targetBody = @/homeworld
		checkType = Manned
		invertRequirement = true
		title = Must not have performed a manned orbit of @/homeworld
	}
}

CONTRACT_TYPE
{
	name = ExplorationPlus-MannedLongTermOrbitHomeworld
	title = Manned Orbit Around @/homeworld for 7 days
	group = ExplorationPlus
	description = To prepare for future manned missions, it is vital to test our equipment and Kerbals in an extended duration stay in space.
	synopsis = Launch a Kerbal into orbit around @/homeworld and stay there for 7 days before returning them safely.
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	maxCompletions = 1
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Significant
	targetBody = @/homeworld
	rewardScience = 3.0
	rewardReputation = 9.0
	rewardFunds = 50000.0
	failureFunds = 18000.0
	advanceFunds = 18000.0

	DATA
	{
		type = CelestialBody
		uniquenessCheck = CONTRACT_ACTIVE
		homeworld =  HomeWorld()
		hidden = true
	}

	DATA
	{
		type = string
		requiredValue = true
		VesselVariableName = "MannedLongTermOrbiter" + @/homeworld.Name()
		hidden = true
	}

	PARAMETER
	{
		name = Manned Orbiter
		type = VesselParameterGroup
		define = @/VesselVariableName
		hideVesselName = true
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true
		duration = 7d
		
		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 1
			disableOnStateChange = false
			title = Must have a Kerbal on board
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Orbit @/homeworld
		}
	}

	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Return home
		completeInSequence = true
	}

	
	REQUIREMENT
	{
		name = ReachOrbit
		type = Orbit
		targetBody = @/homeworld
		checkType = Manned
		title = Must have performed a manned orbit of @/homeworld
	}
}

CONTRACT_TYPE
{
	name = ExplorationPlus-OrbitalEVA
	title = EVA in Orbit Around @/homeworld.
	group = ExplorationPlus
	description = To aid our efforts of building more complicated missions, we need to demonstrate that we have the necessary skills to perform an EVA.
	synopsis = Perform an EVA in orbit around @/homeworld.
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Significant
	targetBody = @/homeworld
	maxCompletions = 1
	rewardScience = 3.0
	rewardReputation = 2.0
	rewardFunds = 11000.0
	failureReputation = 0.0
	failureFunds = 0.0
	advanceFunds = 0.0

	DATA
	{
		type = CelestialBody
		homeworld = HomeWorld()
	}

	PARAMETER
	{
		name = OrbitalEVAVehicle
		type = VesselParameterGroup
		dissassociateVesselsOnContractCompletion = true
		define = OrbitalEVAVehicle

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 1
			disableOnStateChange = false
			title = Must have a Kerbal on board
		}
		
		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Orbit @/homeworld
		}

		PARAMETER
		{
			name = CollectScienceEVA
			type = CollectScience
			situation = InSpaceLow
			experiment = evaReport
			recoveryMethod = RecoverOrTransmit
			title = Perform the first EVA and collect the EVA Report
			disableOnStateChange = true
		}
	}

	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Recover home
	}

	REQUIREMENT
	{
		name = SpacewalkRequirement
		invertRequirement = true
		type = Spacewalk
	}
}

CONTRACT_TYPE
{
	name = ExplorationPlus-OrbitalRendezvousAndDocking
	title = Rendezvous and Dock in Orbit Around @/homeworld.
	group = ExplorationPlus
	description = Now that we have launched out target vessel @/targetVessel into orbit around @/homeworld, we can continue with the second part of our mission.  Send a manned mission into orbit around @/homeworld and have it rendezvous and dock with the target vessel @/targetVessel.
	synopsis = Perform a rendezvous and docking in orbit around @/homeworld.
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Exceptional
	targetBody = @/homeworld
	maxCompletions = 1
	rewardScience = 3.0
	rewardReputation = 9.0
	rewardFunds = 55000.0
	failureReputation = 0.0
	failureFunds = 0.0
	advanceFunds = 0.0

	DATA
	{
		type = CelestialBody
		homeworld = HomeWorld()
	}
	
	DATA
	{
		type = Vessel
		targetVessel = Vessel(AgenaTargetVehicle)
	}

	PARAMETER
	{
		name = DockingVehicle
		type = VesselParameterGroup
		dissassociateVesselsOnContractCompletion = true
		define = DockingVehicle

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			minCrew = 1
			disableOnStateChange = false
			title = Must have a Kerbal on board
		}

		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			partModule = ModuleDockingNode
			title = Must have a docking port
		}
		
		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Orbit @/homeworld
		}

		PARAMETER
		{
			name = Rendezvous
			type = Rendezvous
			disableOnStateChange = true
			vessel = AgenaTargetVehicle
			title = Rendezvous with @/targetVessel
		}

		PARAMETER
		{
			name = Docking
			type = Docking
			disableOnStateChange = true
			vessel = AgenaTargetVehicle
			title = Docked with the @/targetVessel
		}
	}

	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Recover home
		completeInSequence = true
	}
	
	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = ExplorationPlus-LaunchDockingTarget
		minCount = 1
		maxCount = 1
		cooldownDuration = 0d
	}
}

CONTRACT_TYPE
{
	name = ExplorationPlus-MannedOrbitOther
	group = ExplorationPlus
	title = Manned Orbit Around @/targetBody1
	genericTitle = Manned Orbit around a Celestial Body
	description = We gathered a great deal of interesting science after sending a probe into orbit around @/targetBody1, but our scientists think we can learn more by putting a Kerbal into orbit around @/targetBody1. We're not planning to create a space station yet so make sure to bring them home safely!
	genericDescription = We gathered a great deal of interesting science after sending a probe into orbit around a Celestial Body, but our scientists think we can learn more by putting a Kerbal into orbit around a Celestial Body. We're not planning to create a space station yet so make sure to bring them home safely!
	synopsis = Launch a Kerbal into orbit around @/targetBody1 and return them safely.
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Exceptional
	targetBody = @/targetBody1
	rewardScience = 6
	rewardReputation = 12.0
	rewardFunds = 68000
	failureReputation = 0.0
	failureFunds = 20000
	advanceFunds = 20000

	DATA
	{
		type = CelestialBody
		uniquenessCheck = CONTRACT_ACTIVE
		targetBody1 =  OrbitedBodies().Where(b => !b.IsHomeWorld() && !b.IsSun()).SelectUnique()
		title = Must have orbited around a body with an unmanned probe
	}

	DATA
	{
		type = string
		requiredValue = true
		VesselVariableName = "MannedOrbiter" + @/targetBody1.Name()
		hidden = true
	}
	
	PARAMETER
	{
		name = MannedOrbiterVessel
		type = VesselParameterGroup
		define = @/VesselVariableName
		hideVesselName = true   
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true

		PARAMETER 
		{
			name = NewVessel
			type = NewVessel
			hidden = true
		}

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			minCrew = 1
			disableOnStateChange = false
			title = Must have a Kerbal on board
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Orbit @/targetBody1
		}

		PARAMETER
		{
			name = ReturnHome
			type = ReturnHome
			title = Return home
		}
	}

	REQUIREMENT
	{
		name = ReachOrbit
		type = Orbit
		targetBody = @/targetBody1
		checkType = Manned
		invertRequirement = true
		title = Must not have performed a manned orbit of @/targetBody1
	}
}

CONTRACT_TYPE
{
	name = ExplorationPlus-Apollo
	title = Manned Landing on @/targetBody1
	genericTitle = Manned Landing on a Celestial Body.
	group = ExplorationPlus
	description = All of our missions have been building up to this moment.  It's now time to undertake historic task of landing our first Kerbal on the surface of @/targetBody1 and prove to all of @/homeworld we have the technical know-how and gumption to accomplish this mission and bring the crew home safely!
	genericDescription = All of our missions have been building up to this moment.  It's now time to undertake historic task of landing our first Kerbal on the surface of a Celestial Body and prove to all of @/homeworld we have the technical know-how and gumption to accomplish this mission and bring the crew home safely!
	completedMessage = Huzzah! There is no such thing as the final frontier.
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Exceptional
	targetBody = @/targetBody1
	rewardScience = 9
	rewardReputation = 18.0
	rewardFunds = 110000.0
	failureReputation = 0.0
	failureFunds = 22000.0
	advanceFunds = 22000.0

	DATA
	{
		type = CelestialBody
		homeworld = HomeWorld()
		hidden = true
	}

	DATA
	{
		type = CelestialBody
		uniquenessCheck = CONTRACT_ACTIVE
		targetBody1 = LandedBodies().Where(b => b.HasSurface() && !b.IsHomeWorld()).SelectUnique()
		title = Must have landed on a celestial body with a unmanned probe
	}
	
	DATA
	{
		type = string
		requiredValue = true
		VesselVariableName = "MannedLander" + @/targetBody1.Name()
		hidden = true
	}
	
	PARAMETER
	{
		name = MannedLanderVessel
		type = VesselParameterGroup
		define = @/VesselVariableName
		hideVesselName = true   
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			disableOnStateChange = false
			minCrew = 1
			title = Must have a Kerbal on board
		}
		
		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = LANDED
			situation = SPLASHED
			disableOnStateChange = false
			title = Land on @/targetBody1
		}
	}
	
	PARAMETER
	{
		name = PlantFlag
		type = PlantFlag
		disableOnStateChange = true
		completeInSequence = true
	}
	
	PARAMETER
	{
		name = ReturnHome
		type = ReturnHome
		title = Return home
		completeInSequence = true
	}
	
	REQUIREMENT
	{
		name = Landing
		type = Landing
		targetBody = @/targetBody1
		checkType = Manned
		invertRequirement = true
		title = Must not have performed a manned landing on @/targetBody1
	}   
}