CONTRACT_TYPE
{
	name = NewHorizons-UncrewedRover
	title = Land a Rover on @/landableBody
	group = NewHorizons-UncrewedRovers
	description = Now that we've landed a probe on @/landableBody, it's time to send something that moves around.  Land on a rover on @/landableBody and explore the waypoints.
	synopsis = Land a Rover on @/landableBody and explorer the waypoints.
	completedMessage = You have landed a rover on @/landableBody and drove around!
	minExpiry = 1
	maxExpiry = 7
	cancellable = true
	declinable = true
	prestige = Significant
	targetBody = @/landableBody
	rewardScience = 0.0
	rewardReputation = 0.0
	rewardFunds = @NewHorizons:Kerbucks6
	failureReputation = 0.0
	failureFunds = @NewHorizons:Kerbucks3
	advanceFunds = @NewHorizons:Kerbucks3

	DATA_EXPAND
	{
		type = CelestialBody
		landableBody = @NewHorizons:landableOtherBodies
	}

	DATA
	{
		type = string
		RoverVesselName = "Rover" + @/landableBody
		hidden = true
	}

	PARAMETER
	{
		name = RoverVessel
		type = VesselParameterGroup
		title = Land a Probe on @/landableBody
		define = @/RoverVesselName

		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
		}

		PARAMETER
		{
			name = Crewmembers
			type = HasCrew
			minCrew = 0
			maxCrew = 0
			disableOnStateChange = false
			title = Must be uncrewed
		}

		PARAMETER
		{
			name = VesselIsRover
			type = VesselIsType
			vesselType = Rover
			title = Must be a Rover
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = LANDED
			disableOnStateChange = true
			title = Land on @/landableBody
		}

		PARAMETER
        {
            name = VisitLandingSite
            type = VisitWaypoint
            index = 0
            distance = 100

            hideOnCompletion = true
            showMessages = true
        }

        PARAMETER
        {
            name = VisitRoverSiteAlpha
            type = VisitWaypoint
            index = 1
            distance = 100

            hideOnCompletion = true
            showMessages = true
        }

        PARAMETER
        {
            name = VisitRoverSiteBeta
            type = VisitWaypoint
            index = 1
            distance = 100

            hideOnCompletion = true
            showMessages = true
        }

        PARAMETER
        {
            name = VisitRoverSiteCharlie
            type = VisitWaypoint
            index = 1
            distance = 100

            hideOnCompletion = true
            showMessages = true
        }
	}

	BEHAVIOUR
	{
		name = WaypointGenerator
		type = WaypointGenerator

		RANDOM_WAYPOINT
		{
			name = Landing Site
			icon = marker
			count = 1
			altitude = 0.0
			waterAllowed = false
		}

		RANDOM_WAYPOINT_NEAR
		{
			name = Rover Site Alpha
			parameter = VisitLandingSite
			icon = marker
			count = 1
			nearIndex = 0
			altitude = 0
			waterAllowed = false
			minDistance = 500
			maxDistance = 1000
		}

		RANDOM_WAYPOINT_NEAR
		{
			name = Rover Site Beta
			parameter = VisitRoverSiteAlpha
			icon = marker
			count = 1
			nearIndex = 1
			altitude = 0
			waterAllowed = false
			minDistance = 500
			maxDistance = 1000
		}

		RANDOM_WAYPOINT_NEAR
		{
			name = Rover Site Charlie
			parameter = VisitRoverSiteBeta
			icon = marker
			count = 1
			nearIndex = 2
			altitude = 0
			waterAllowed = false
			minDistance = 500
			maxDistance = 2000
		}
	}

	REQUIREMENT
	{
		name = Landing
		type = Landing
		targetBody = @/landableBody
		checkType = Unmanned
		title = Must have landed a probe on @/landableBody
	}
}