CONTRACT_TYPE
{
	name = NewHorizons-CrewedLanding
	title = Send a Kerbal to Land on @/landableBody And Return Them Safely
	group = NewHorizons-CrewedLandings
	description = All of our missions have been building up to this moment.  It's now time to undertake the historic task of landing our first Kerbal on the surface of @/landableBody and prove to all we have the technical know-how and gumption to accomplish this mission and bring the crew home safely!
	completedMessage = You have landed a Kerbal on @/landableBody and returned them home safely!
	minExpiry = 1
	maxExpiry = 7
	deadline = 0
	cancellable = true
	declinable = true
	prestige = Exceptional
	targetBody = @/landableBody
	rewardScience = 9
	rewardReputation = 18.0
	rewardFunds = @NewHorizons:Kerbucks20
	failureReputation = 0.0
	failureFunds = @NewHorizons:Kerbucks10
	advanceFunds = @NewHorizons:Kerbucks10

	DATA_EXPAND
	{
		type = CelestialBody
		landableBody = @NewHorizons:landableOtherBodies
	}

	DATA
	{
		type = string
		OrbiterVesselName = "CrewedOrbiter" + @/landableBody
		hidden = true
	}

	DATA
	{
		type = string
		LanderVesselName = "CrewedLander" + @/landableBody
		hidden = true
	}
	
	PARAMETER
	{
		name = CrewedOrbiter
		type = VesselParameterGroup
		define = @/OrbiterVesselName
		title = Send a Kerbal into Orbit around @/landableBody
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true

		PARAMETER
		{
			name = NewVessel
			type = NewVessel
			title = Launch a New Vessel
		}
	
		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			disableOnStateChange = false
			minCrew = 1
			title = Must be crewed
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = ORBITING
			disableOnStateChange = true
			title = Achieve Orbit around @/landableBody
		}
	}

	PARAMETER
	{
		name = CrewedLander
		type = VesselParameterGroup
		define = @/LanderVesselName
		title = Land a Kerbal on @/landableBody
		hideVesselName = true
		dissassociateVesselsOnContractCompletion = true
		disableOnStateChange = true
		completeInSequence = true

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			disableOnStateChange = false
			minCrew = 1
			title = Must be crewed
		}

		PARAMETER
		{
			name = ReachState
			type = ReachState
			situation = LANDED
			situation = SPLASHED
			disableOnStateChange = true
			title = Land on @/landableBody
		}
	}
	
	PARAMETER
	{
		name = PlantFlag
		type = PlantFlag
		disableOnStateChange = true
		completeInSequence = true
	}
	
	PARAMETER
	{
		name = CrewedOrbiterReturn
		type = VesselParameterGroup
		vessel = @/OrbiterVesselName
		completeInSequence = true
		title = Return Home in the Orbiter

		PARAMETER
		{
			name = ReturnHome
			type = ReturnHome
			title = Return home
		}
	}

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract
		contractType = NewHorizons-CrewedOrbit.@/landableBody
	}

	REQUIREMENT
	{
		name = Landing
		type = Landing
		targetBody = @/landableBody
		checkType = Unmanned
		title = Must have landed a probe on @/landableBody
	}
}